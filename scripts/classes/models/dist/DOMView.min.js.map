{"version":3,"sources":["DOMView.js"],"names":["DOMView","game","_this","this","_classCallCheck","document","body","innerHTML","world","score","stats","arrowPad","map","split","forEach","cls","window","querySelector","concat","addEventListener","event","console","log","keyCode","37","38","39","40","65","83","entities","sprite","i","div","undefined","element","createElement","src","name","symbol","style","zIndex","appendChild","removed","classList","add","left","position","x","top","y","hero","output","life","lives"],"mappings":"uZAAMA,mBACJ,SAAAA,EAAYC,GAAM,IAAAC,EAAAC,KAAAC,gBAAAD,KAAAH,GAChBG,KAAKF,KAAOA,EACZI,SAASC,KAAKC,UAAYC,MAAMC,QAAUC,QAAUC,WAAaC,OAEjE,qCAAqCC,MAAM,KAAKC,QAAQ,SAACC,GACvDC,OAAOD,GAAOV,SAASY,cAAT,IAAAC,OAA2BH,MAG3CV,SAASc,iBAAiB,UAAW,SAACC,GACpCC,QAAQC,IAAIF,EAAMG,SADpBlB,EAAAA,KAASc,KARX,CAAkBK,GAAA,OAYZC,GAAI,KAZQC,GAAA,QAcZC,GAAI,OAbRC,GAAK3B,OACLI,GAAQ,KAERwB,GAAA,OACEb,GAAM,SAGCG,EAAiBI,UACxBF,EAAAA,iEAMclB,KAAAF,KAAA6B,SAAAhB,QAAA,SAAAiB,EAAAC,GACZ,IAAAC,OAAUC,IAAAH,EAAAI,UACVF,EAAI5B,SAPM+B,cAAA,QAOEC,IAAA,UAAAN,EAAAO,KAAA,OAPd,MAAAP,EAAAQ,OA0BIN,EAAIO,MAAMC,OAAS,IAEnBR,EAAIO,MAAMC,OAAS,IAf1BV,EAAAI,QAAAF,EAmBKjB,OAAOJ,IAAI8B,YAAYT,IAEvBA,EAAMF,EAAOI,QAlBjBJ,EAAAY,SACAV,EAAAW,UAAAC,IAAA,WAEEZ,EAAAO,MAAAM,KAAAf,EAAAgB,SAAAC,EAAA,MAqBAf,EAAIO,MAAMS,IAAMlB,EAAOgB,SAASG,EAAI,QAnBlCjB,OAAAA,MAAM5B,UAAS+B,KAAAA,KAAce,KAAvB1C,MAIN,IAmBJ,IAAI2C,EAAS,GAnBTC,EAAS,EAACd,EAAPpC,KAAHF,KAAuBqD,MAAAD,IACrBpB,GAAIO,KAEJP,OAAAA,MAAIO,UAAJY","file":"DOMView.min.js","sourcesContent":["class DOMView {\r\n  constructor(game) {\r\n    this.game = game;\r\n    document.body.innerHTML = world(score() + stats() + arrowPad() + map());\r\n\r\n    \"map score stats up down left right\".split(\" \").forEach((cls) => {\r\n      window[cls] = document.querySelector(`.${cls}`);\r\n    });\r\n\r\n    document.addEventListener(\"keydown\", (event) => {\r\n      console.log(event.keyCode);\r\n      let CODES = {\r\n        37: \"left\",\r\n        38: \"up\",\r\n        39: \"right\",\r\n        40: \"down\",\r\n        65: \"left\", //a\r\n        87: \"up\", //w\r\n        83: \"down\", //s\r\n        68: \"right\", //d\r\n      };\r\n      this.game.move(CODES[event.keyCode]);\r\n      this.render();\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    //DRAW\r\n    //window.map.innerHTML = \"\"; //clear the map\r\n    this.game.entities.forEach((sprite, i) => {\r\n      let div;\r\n      if (undefined === sprite.element) {\r\n        div = document.createElement(\"img\");\r\n        div.src = \"images/\" + sprite.name + \".png\";\r\n        //div.setAttribute(\"style\", 'width:1rem;height:1rem;object-fit:contain;');\r\n\r\n        if(sprite.symbol===\".\"){\r\n          div.style.zIndex = 100;\r\n        }else{\r\n          div.style.zIndex = 200;  \r\n        }\r\n        \r\n        sprite.element = div;\r\n        window.map.appendChild(div); //append to map\r\n      } else {\r\n        div = sprite.element;\r\n      }\r\n      if (sprite.removed) {\r\n        div.classList.add(\"removed\");\r\n      }\r\n      div.style.left = sprite.position.x + \"rem\";\r\n      div.style.top = sprite.position.y + \"rem\";\r\n    });\r\n    window.score.innerHTML = this.game.hero.score;\r\n\r\n    let output = \"\";\r\n    for (let life = 0; life < this.game.lives; life++) {\r\n      output += \"@ \";\r\n    }\r\n    window.stats.innerHTML = output;\r\n  }\r\n}\r\n"]}