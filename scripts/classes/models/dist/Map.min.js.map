{"version":3,"sources":["Map.js"],"names":["Map","game","_classCallCheck","this","r","c","height","width","p","Position","entities","push","isWall","Wall","Floor","text","_this","aa","str2aa","aa2objectList","forEach","item","position","x","y","symbol","hero","Zombie"],"mappings":"uZAAMA,eACJ,SAAAA,EAAYC,GAAMC,gBAAAC,KAAAH,GAChBG,KAAKF,KAAOA,sDAGPG,EAAEC,GACP,OAAa,IAAND,GAAWA,IAAMD,KAAKF,KAAKK,OAAS,GAAW,IAAND,GAAWA,IAAMF,KAAKF,KAAKM,MAAQ,iCAInF,IAAK,IAAIH,EAAI,EAAGA,EAAID,KAAKF,KAAKK,OAAQF,IATxC,IAAA,IAAYH,EAAZ,EAAkBI,EAAAF,KAAAF,KAAAM,MAAAF,IAAA,CAAA,IAAAG,EAAA,IAAAC,SAAAJ,EAAAD,GAYZD,KAAKF,KAAKS,SAASC,KAAMR,KAAKS,OAAOR,EAAEC,GAAK,IAAIQ,KAAKL,GAAK,IAAIM,MAAMN,0CAI7DO,GAAK,IAAAC,EAAAb,KACZc,EAAKC,OAAOH,GACNI,cAAcF,GAbxBG,QAAQ,SAAAC,GACT,IAAAb,EAAA,IAAAC,SAAAY,EAAAC,SAAAC,EAAAF,EAAAC,SAAAE,GAeM,MAAQH,EAAKI,OACdT,EAAKf,KAAKS,SAASC,KAAK,IAAIG,MAAMN,IAC1B,MAAQa,EAffI,OACLT,EAAKf,KAAKS,SAAUC,KAAKV,IAAKK,KAAAA,IACvB,MAAWD,EAAIoB,QAClBT,EAAAf,KAAQyB,KAAIjB,IAAAA,KAAYL,GACxBY,EAAAf,KAAKA,SAAKS,KAASC,EAAMV,KAAKW,MAC/BI,EAAAf,KAAAS,SAAAC,KAAA,IAAAG,MAAAN,KACF,MAAAa,EAAAI,QACFT,EAAAf,KAAAS,SAAAC,KAAA,IAAAgB,OAAAnB,IAgBKQ,EAAKf,KAAKS,SAASC,KAAK,IAAIG,MAAMN,KAC1B,MAAQa,EAAKI,SACrBT,EAAKf,KAAKS,SAASC,KAAK,IAjBjBI,SAAKP,EAAA,MAAAQ,EAAAf,KAAAS,SAAAC,KAAA,IAAAG,MAAAN","file":"Map.min.js","sourcesContent":["class Map {\r\n  constructor(game) {\r\n    this.game = game;\r\n  }\r\n\r\n  isWall(r,c){\r\n    return r === 0 || r === this.game.height - 1 || c === 0 || c === this.game.width - 1;\r\n  }\r\n\r\n  room() {\r\n    for (let r = 0; r < this.game.height; r++) {\r\n      for (let c = 0; c < this.game.width; c++) {\r\n        let p = new Position(c, r);\r\n        this.game.entities.push( this.isWall(r,c) ? new Wall(p) : new Floor(p));\r\n      }\r\n    }\r\n  }\r\n  roomFromText(text){\r\n    let aa = str2aa(text);\r\n    let ol =  aa2objectList(aa);\r\n    ol.forEach(item=>{\r\n      let p = new Position(item.position.x, item.position.y);\r\n      if(\".\" === item.symbol){\r\n        this.game.entities.push(new Floor(p));\r\n      } else if(\"#\" === item.symbol){\r\n        this.game.entities.push(new Wall(p));\r\n      } else if(\"@\" === item.symbol){\r\n        this.game.hero = new Hero(p);\r\n        this.game.entities.push(this.game.hero);\r\n        this.game.entities.push(new Floor(p));\r\n      } else if(\"Z\" === item.symbol){\r\n        this.game.entities.push(new Zombie(p));\r\n        this.game.entities.push(new Floor(p));\r\n      } else if(\"$\" === item.symbol){\r\n        this.game.entities.push(new Treasure(p, 300));\r\n        this.game.entities.push(new Floor(p));\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n"]}